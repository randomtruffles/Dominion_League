---
layout: default
title: Visual History
---

<div class="home">
	<div id="widthcheck"><!-- for determining render width --></div>
	<div class="container-centered">
		<h3>Visual History</h3>
		<p>Visual representations of Dominion League history - take a look at players' performance over time, with more coming soon.</p>
	</div>
	
	<div class="container-centered">
		<h4>League Players</h4>
		<p>How the league has evolved over time, or the journeys of up to six players</p>
	</div>
	
	<div class="control-row">
		<div class="control-container">
			Player: 
			<input type="text" id="player-input" class="chartInput">
			<button id="playerchange">Add Player</button>
			<button id="clearplayer">Clear All</button>
		</div>
		<div class="control-container" id="playerbuttons">
		</div>
	</div>
	<div class="control-row">
		<span class="slidePiece">Seasons:</span>
		<input type="text" id="pseasontextmin" class="slidertext slidePiece" value="1">
		<div class="slider-container slidePiece">
			<input type="range" id="pseasonslide1" class="dslider" min=1 max=1 value=1>
			<input type="range" id="pseasonslide2" class="dslider" min=1 max=1>
		</div>
		<input type="text" id="pseasontextmax" class="slidertext slidePiece">
		<button id="rangereset" class="reset slidePiece">Reset Range</button>
		<div class="control-container">
			<label for="count" class="chartInput">
				<input type="radio" id="count" class="chartInput chartRadio" name="prop" checked="checked">
				<span>Counts</span>
			</label>
			<label for="prop" class="chartInput">
				<input type="radio" id="prop" class="chartInput chartRadio" name="prop">
				<span>Proportions</span>
			</label>
		</div>
		<div class="control-container">
			<label for="allTiers" class="chartInput">
				<input type="checkbox" id="allTiers" class="chartInput chartCheck">
				<span>Show all tiers</span>
			</label>
		</div>
	</div>
	
	<div id="player-history"></div>
	
	<div class="container-centered">
		<h4>Transitions</h4>
		<p>How players have moved between tiers. Clicking on a bar will bring up a list of players from the bar.</p>
	</div>
	
	<div class="control-row">
		<span class="slidePiece">Players who played in seasons</span>
		<input type="text" id="tseasontextmin" class="slidertext slidePiece" value="1">
		<div class="slider-container slidePiece">
			<input type="range" id="tseasonslide1" class="dslider" min=1 max=1 value=1>
			<input type="range" id="tseasonslide2" class="dslider" min=1 max=1>
		</div>
		<input type="text" id="tseasontextmax" class="slidertext slidePiece">
		<div class="control-container">
			<span>in</span>
			<select id="tierSelect"></select>
			<span>tier</span>
		</div>
		<div class="control-container">
			<label for="firstPlayed" class="chartInput">
				<input type="checkbox" id="firstPlayed" class="chartInput chartCheck">
				<span>for the first time</span>
			</label>
		</div>
	</div>
	<div class="control-row">
		<div class="control-container">
			<span>Where they </span>
			<select id="typeSelect">
				<option value=0 selected>had been by a season</option>
				<option value=1>exactly were in a season</option>
				<option value=2>went after a season</option>
				<option value=3>had been between then and a season</option>
				<option value=4>had been after a number of seasons</option>
				<option value=5>were after exactly a number of seasons</option>
				<option value=6>had been since a number of seasons before</option>
				<option value=7>were exactly a number of seasons before</option>
			</select>
			<span>: </span>
		</div>
		<input type="text" id="tnumberbox" class="slidertext slidePiece">
		<div class="slider-container">
			<input type="range" id="tnumberslider" class="dslider slidePiece" min=1 max=1>
		</div>
	</div>
	<div id="transitions"></div>
		
	<div class="container-centered">
		<h4>A Division Power</h4>
		<p>How the top tier has evolved. Each player gets an area corresponding to their standing in the past few seasons. Click on a player's area to add their history to the chart above.<br><a href="/tier_history?tier=A&display=divisions">See All A Division Standings</a></p>
	</div>
	
	<div class="control-row">
		<p class="slidePiece">Zoom:</p>
		<div class="slidePiece">
			<label class="checkslider">
				<input type="checkbox" id="powerzoom">
				<span class="checkslider-button" id="powerzoom-button"></span>
			</label>
		</div>
	</div>
	
	<div id="ADiv-power"></div>
	
	<div id="charts-modal" class="modal">
		<div class="modal-content" id="inner-modal" style="text-align:center">
			<span id="closemodal" class="close">&times;</span>
			<h5 id="modal-header"></h5>
			<div id="modal-body">
			</div>
		</div>
	</div>
	
	<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
	<script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
	<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
	<script src="js/charts.js"></script>
	<script>
	PlayerPlot.prepControls();
	TransitionsPlot.prepControls();
	PowerPlot.prepControls();
	ChartUtils.getURLparams();
	PlayerPlot.makePlot();
	TransitionsPlot.makePlot();
	PowerPlot.makePlot();
	window.onresize = function() {
		PlayerPlot.resize();
		PowerPlot.resize();
		TransitionsPlot.resize();
	};
	ChartUtils.setURLparams();
	</script>
</div>
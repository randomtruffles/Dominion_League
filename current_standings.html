---
layout: default
title: Current standings of divisions in Season 45
---

<div class="home">
  <div class="container-centered">

    <h3><a class="current-standings" href="{{site.baseurl}}/current_standings">Season {{ site.data.season.number }} Standings</a></h3>
    <h5><a href="{{site.baseurl}}/past_standings">Past Seasons</a> â€¢ <a href="{{site.baseurl}}/player_database">Player Database</a></h5>
    <p> Standings for the current season. Forecasts by markus can be found <a href="https://docs.google.com/spreadsheets/d/1ZgimtlIsDx1B6SRNSxV0NyXeKubQe0KYITUjjaJ-7b8/">here</a>. </p>
    <!-- Filter buttons -->
    <div id="myBtnContainer">
      {% for tier in site.data.season.tiers %}
      <button class="btn" onclick="filterSelection('div{{tier.name}}')"> {{tier.name}} </button>
      {% endfor %}
      <button class="btn" onclick="filterSelection('all')"> Show all</button>
    </div>
    <div class="spacing"></div>
    <div id="single-division"></div>
    <div id="all-divisions"></div>
    <div class="spacing"></div>
  </div>
</div>
<script src="js/generatingTables.js"></script>
<script src="/js/standingsUtils.js"></script>
<script>
// Load data
var cur_season = String({{ site.data.season.number }});
var divisions = {{ site.data.current_season | jsonify }};
var sheetsLinks = {{ site.data.sheet_links | jsonify }};
sheetsLinks = sheetsLinks[cur_season];
var tiers = [
  ["A", 1],
  ["B", 2],
  ["C", 4],
  ["D", 4],
  ["E", 7],
  ["F", 13],
  ["G", 13],
  ["H", 29],
  ["I", 30],
  ["J", 29]
];
champ = "recycle_garbage";
loadPage();

function singleDivision(division){
  var singleDivisionDiv = document.getElementById("single-division");
  singleDivisionDiv.style.display = "";
  console.log("scroll");
  singleDivisionDiv.scrollTop = 0;
  document.getElementById("all-divisions").style.display = "none";
  console.log(`Showing single division: ${division.toLowerCase()}-standings`);
  loadDivision(singleDivisionDiv, divisions[division], sheetsLinks[division], division, cur_season, {});
  var divisionDiv = document.getElementById(`${division.toLowerCase()}-standings`);
  w3AddClass(divisionDiv, "show");
}

function allDivisions(){
  var curTierIdx = 0;
  var curDiv = 1;
  var divisionDiv = document.getElementById("all-divisions");
  console.log("Showing all divisions");
  document.getElementById("single-division").style.display = "none";
  while (true) {
    if (curTierIdx == tiers.length) {
      break;
    }
    if (curDiv > tiers[curTierIdx][1]) {
      curDiv = 1;
      curTierIdx += 1;
    }
    if (curTierIdx == tiers.length) {
      break;
    }
    division = `${tiers[curTierIdx][0]}${curDiv}`;
    curDiv += 1;
    loadDivision(divisionDiv, divisions[division], sheetsLinks[division], division, cur_season, {});
  }
  return;
}

function loadPage() {
  var division = getParam('div');
  var tier = getParam('tier');
  if (division.length > 0) {
    singleDivision(division.toUpperCase());
  } else {
    allDivisions();
    filterSelection("all");
  }
}
</script>
